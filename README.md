# LTC2945-multiple-voltage-scanner
This project is a scanner or collector of multiple analog voltages from a series circuit of batteries or cells.  
Have you ever wanted to automatically measure the individual voltages of a string of series connected batteries or cells?  If so, this project accomplishes that task and can easily measure voltages with magnitudes from 1 to 80 volts. The project is currently designed to measure series connected nicad cells, but you could easily measure 4.2 volt lithium, 6/12 volt automotive, etc. without modifying the project.  A requirement is that the voltages are Direct Current (DC).
The C++ code is setup to use the arduino IDE for uploading to an esp8266-12e or nodedmcu development board. The current setup collects the data from ten batteries/cells. You can easily expand the capability to 16 or more data points. The display of data is setup to use a serial communications terminal.  The code has been written to add comma delimiting so you could export a file to be imported into a spreadsheet.
An esp8266-12e is being used as the microcontroller so that if you want to augment the project with wifi by sending the data or alerts to IOT or send notifications.  It also makes using 3.3V for power supply and data commuication less complicated.
A plethora of comments have been put into the code and in the schematic to help explain the operation of this setup.
In essence, the esp8266-12e microcontroller uses I2C to communicate with the LTC2945 12 bit ADC power monitor and the MPC23017 16 bit multiplexer. The output of the mutiplexer does not have sufficent drive current for the (coil rating 5V @ .038A) voltage selection relays, so a ULN2803 driver is used to handle the higher DC current.  The ULN2803 also has integral freewheeling diodes to absorb the back EMF from the relay coils. Glass 100mA fuses are used to protect the batteries/cells and the circuitry in the event of relay or wiring problems.  The high input impedance LTC2945 ADC is being used in the voltage input mode (SENSE + to ground). 
The DPDT voltage selection relays are slow in operation compared to a preferred mercury wetted contact type relay.  These slower relays are being used to help control the cost of the project. You can refer to the code where allowances for delay times have been made for relay operation and reading of the voltages.
One very important rule of this project is that the electronics of this project must be powered by an isolated supply.  I have suggested using a 12 volt battery regulated down to 5V.  The 5V is then regulated down to 3.3V for the electronics. The voltage input from the series batteries or cells MUST be isolated from the electronic circuitry as the electronic circuitry uses GROUND as one side of the voltage readings. Failure to observe this rule will result in clearing fuses, and/or damaging the electronics.
Since high potential voltages could be involved, if anyone wishes to use this project, they assume all responsibility for their safety and property.
